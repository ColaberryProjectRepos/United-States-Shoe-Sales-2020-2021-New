
Organize and Transform the DATA, #2
9
<p dir="ltr" style="line-height:1.38;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;padding:0pt 0pt 8pt 0pt;"><span style="font-size:10.5pt;font-family:'Times New Roman',serif;color:#000000;background-color:#ffff00;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Master Calendar:</span></p><p dir="ltr" style="line-height:1.38;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;padding:0pt 0pt 8pt 0pt;"><span style="font-size:10.5pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Starting with a temporary calendar table that generates a series of dates from a minimum to a maximum date. The Master Calendar then populates date components like Week, Year, Month, Quarter, Weekday, and Day using the temporary dates.&nbsp; After establishing the Master Calendar with these fields, the temporary calendar table is dropped to clean up the data model.&nbsp; Lastly, the script performs a left join with another table, `ShoeFactTable`, on the common `InvoiceDate` field, and stores the Master Calendar into a QVD file.</span></p><p><span id="docs-internal-guid-4c69d864-7fff-f25b-8f40-3690883fdda1"><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: transparent; font-weight: 700; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; text-decoration-line: underline; text-decoration-skip-ink: none; vertical-align: baseline; white-space-collapse: preserve;">WHY?</span><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; vertical-align: baseline; white-space-collapse: preserve;"> The Master Calendar is used to create a unified date dimension that allows for consistent and complex time-based data analysis across an entire application, including handling sparse data and facilitating calculations like year-to-date or same-period comparisons. It also improves performance by storing date information in an optimized format (QVD file).</span></span><br></p><p><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1425/9/2.jpg" style="width: 806.8px; height: 533.196px;"><span style="font-family: &quot;Times New Roman&quot;;"><br></span></p><p><span style="font-family: &quot;Times New Roman&quot;;">___________________________________________________________________________________________________________________</span></p><p dir="ltr" style="line-height:1.38;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;padding:0pt 0pt 8pt 0pt;"><span style="font-size:10.5pt;font-family:'Times New Roman',serif;color:#000000;background-color:#ffff00;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Mapping:</span></p><p style="text-align: left;"><span id="docs-internal-guid-71d59b5e-7fff-4969-ab2c-854bdf394682"><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: transparent; font-weight: 700; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; text-decoration-line: underline; text-decoration-skip-ink: none; vertical-align: baseline; white-space-collapse: preserve;">Mapping Load:</span><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; vertical-align: baseline; white-space-collapse: preserve;">&nbsp; The Mapping Load tables establish an association of U.S. states with their respective regions (Northeast, West, South, Midwest, Southwest). Each mapping table is loaded with inline data, providing a reference for transforming state names into regional groupings, which can be used later for data consolidation, lookups, or to enrich other data tables with regional information. Every state in the U.S. is associated with a region for grouping analysis, especially. </span></span><br></p><p><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1425/9/3.jpg" style="width: 385.302px; height: 520.262px;"><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1425/9/4.jpg" style="width: 383.635px; height: 513.262px;"></p><p><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1425/9/5.jpg" style="width: 387.8px; height: 515.288px;"><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1425/9/6.jpg" style="width: 376.013px; height: 535.718px;"></p><p><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1425/9/7.jpg" style="width: 50%;"></p><p><br></p><p dir="ltr" style="line-height:1.38;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;padding:0pt 0pt 8pt 0pt;"><span style="font-size:10.5pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:underline;-webkit-text-decoration-skip:none;text-decoration-skip-ink:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">ApplyMap():</span><span style="font-size:10.5pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&nbsp; The `ApplyMap()` function in the `MappingTable` below is used to replace values in the "Region" field of the `ShoeFactTable` with corresponding values from different mapping load tables.&nbsp; Each `ApplyMap()` function creates a new field where the original "Region" values are replaced with state names based on the specific mapping table used. This allows for categorizing or grouping regions into different criteria defined in each mapping table, enriching the data in the `ShoeFactTable` without modifying the original data source.</span></p><p><span id="docs-internal-guid-5f7c43b3-7fff-bb5d-07bd-01bcc3a06c2f"><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: transparent; font-weight: 700; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; text-decoration-line: underline; text-decoration-skip-ink: none; vertical-align: baseline; white-space-collapse: preserve;">RegionTable:</span><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; vertical-align: baseline; white-space-collapse: preserve;">&nbsp; The RegionTable creates a part of the mapping table that combines a list of states for each region into a single string, and the resulting table has two columns: one for the region and one for the concatenated list of states. This allows you to easily associate states with regions for regional analysis, ensuring that Alaska and Hawaii are excluded due to the Qlik desktop mapping feature.</span></span><br></p><p><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1425/9/8.jpg" style="width: 789.8px; height: 744.05px;"></p><p><span style="font-family: &quot;Times New Roman&quot;;">__________________________________________________________________________________________________________________</span><br></p><span id="docs-internal-guid-a14a4cf4-7fff-bed2-5e01-0f0462911a26"><p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; padding: 0pt 0pt 8pt;"><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: rgb(255, 255, 0); font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; vertical-align: baseline; white-space-collapse: preserve;">Dimension Tables:</span></p><p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; padding: 0pt 0pt 8pt;"><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: transparent; font-weight: 700; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; text-decoration-line: underline; text-decoration-skip-ink: none; vertical-align: baseline; white-space-collapse: preserve;">Summary:</span><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; vertical-align: baseline; white-space-collapse: preserve;">&nbsp; This script in Qlik Sense creates multiple dimension tables, including "Region_Dim," "Gender_Dim," "Size_Dim," and "Color_Dim," to define and categorize various attributes such as regions, gender, size, and color for use in data analysis and visualization, enabling users to filter and group data based on these dimensions to gain insights and perform analysis within the Qlik Sense application.</span></p></span><p style="text-align: left;"><span style="background-color: transparent; font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; font-weight: 700; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; text-decoration-line: underline; text-decoration-skip-ink: none; vertical-align: baseline; white-space-collapse: preserve;">Dims:</span><span style="background-color: transparent; font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; vertical-align: baseline; white-space-collapse: preserve;">&nbsp; The Region_Dim script loads a table that maps U.S. states to their respective regions for analysis or reporting in data visualization software, while the Gender_Dim script creates a table associating gender identifiers with gender names, excluding "Unisex." Additionally, the Size_Dim script generates a table linking numerical size identifiers to shoe sizes, and the Color_Dim script loads a table with color codes and names for data analysis and visualization in Qlik Sense.</span><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1425/9/9.jpg" style="width: 796.8px; height: 448.114px;"><span style="font-family: &quot;Times New Roman&quot;;">___________________________________________________________________________________________________________________</span><br></p><p dir="ltr" style="line-height:1.38;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;padding:0pt 0pt 8pt 0pt;"><span style="font-size:10.5pt;font-family:'Times New Roman',serif;color:#000000;background-color:#ffff00;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">KPIs:</span></p><p dir="ltr" style="line-height:1.38;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;padding:0pt 0pt 8pt 0pt;"><span style="font-size:10.5pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:underline;-webkit-text-decoration-skip:none;text-decoration-skip-ink:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Summary:</span><span style="font-size:10.5pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&nbsp; At this juncture, these KPIs are totally optional to make the dashboard more dynamic.&nbsp; Their calculations are related to sales, pricing, and unit volumes for the ShoeFactTable.&nbsp; The KPIs include Average Selling Price per Unit, Gender and Size-specific sales data, and Total Units Sold per Year per Region, and it also generates aggregated sales data by brand with a percentage breakdown of sales for each brand.</span></p><p style="text-align: left;"><span id="docs-internal-guid-3f8e207e-7fff-47c7-6e98-158309c24f33"><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: transparent; font-weight: 700; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; text-decoration-line: underline; text-decoration-skip-ink: none; vertical-align: baseline; white-space-collapse: preserve;">KPIs:</span><span style="font-size: 10.5pt; font-family: &quot;Times New Roman&quot;, serif; background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; vertical-align: baseline; white-space-collapse: preserve;">&nbsp; The "ASP_UnitSold_$PerUnit_KPI" script below computes financial KPIs, such as Average Selling Price per Unit and Profit Margin, over time. The "Sales_Size_AND_ASP_Gender_KPI" script focuses on gender and size segments, facilitating targeted sales analysis. "TotalUnitsSoldPerYearPerRegion_KPI" generates region-based KPIs to assess sales distribution and trends. The "Sales" script processes sales data from an external file, calculating brand sales and market share. Together, these scripts empower businesses to make data-driven decisions, optimize strategies, and improve overall performance.</span></span><br></p><p><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1425/9/10.jpg" style="width: 777.8px; height: 896.66px;"><span style="font-family: &quot;Times New Roman&quot;;"><br></span><br></p>

<p><b>Master Calendar:</b></p><p><a href="https://community.qlik.com/t5/New-to-Qlik-Sense/How-to-create-master-calendar-in-Qlik-Sense/td-p/805885" target="_blank">https://community.qlik.com/t5/New-to-Qlik-Sense/How-to-create-master-calendar-in-Qlik-Sense/td-p/805885</a>&nbsp;</p><p><b>ApplyMap():&nbsp;&nbsp;</b></p><p><a href="https://help.qlik.com/en-US/sense/August2023/Subsystems/Hub/Content/Sense_Hub/Scripting/MappingFunctions/ApplyMap.htm" target="_blank">https://help.qlik.com/en-US/sense/August2023/Subsystems/Hub/Content/Sense_Hub/Scripting/MappingFunctions/ApplyMap.htm</a><b>&nbsp;</b><br></p>

